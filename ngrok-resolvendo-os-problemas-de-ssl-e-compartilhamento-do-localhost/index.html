<!DOCTYPE html><html ⚡ lang="pt-br"><head><meta charset="utf-8"><link rel="manifest" href="/manifest.json"><script async src="https://cdn.ampproject.org/v0.js"></script><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>ngrok: resolvendo os problemas de SSL e compartilhamento do localhost · Joselito</title><link rel="canonical" href="https://joseli.to/ngrok-resolvendo-os-problemas-de-ssl-e-compartilhamento-do-localhost/"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"><meta name="description" content="Tem uns programas que a gente procurou a vida toda e não sabia que precisava.Quando estamos desenvolvendo pra web, uma das primeiras coisas que temos que fazer é levantar um servidor local na nossa má"><meta name="keywords" content="Código,ssl,comando,https,segurança,serviço,terminal"><meta property="og:type" content="article"><meta property="og:title" content="ngrok: resolvendo os problemas de SSL e compartilhamento do localhost"><meta property="og:url" content="https://joseli.to/ngrok-resolvendo-os-problemas-de-ssl-e-compartilhamento-do-localhost/index.html"><meta property="og:site_name" content="Joselito"><meta property="og:description" content="Tem uns programas que a gente procurou a vida toda e não sabia que precisava.Quando estamos desenvolvendo pra web, uma das primeiras coisas que temos que fazer é levantar um servidor local na nossa má"><meta property="og:updated_time" content="2017-06-03T03:59:54.571Z"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="ngrok: resolvendo os problemas de SSL e compartilhamento do localhost"><meta name="twitter:description" content="Tem uns programas que a gente procurou a vida toda e não sabia que precisava.Quando estamos desenvolvendo pra web, uma das primeiras coisas que temos que fazer é levantar um servidor local na nossa má"><meta property="fb:app_id" content="1265807416816197"><meta property="fb:pages" content="191984887960659"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="icon" type="image/png" href="/images/icon-192x192.png" sizes="192x192"><link rel="apple-touch-icon" sizes="180x180" href="/images/icon-512x512.png"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="application-name" content="Joselito"><meta name="apple-mobile-web-app-title" content="Joselito"><meta name="theme-color" content="#0000ff"><meta name="msapplication-navbutton-color" content="#0000ff"><meta name="apple-mobile-web-app-status-bar-style" content="#0000ff"><meta name="msapplication-starturl" content="/"><meta name="twitter:site" content="@joselitojunior1"><meta name="twitter:creator" content="@joselitojunior1"><meta property="og:image" content="https://joseli.to/images/share/fb.png"><meta name="twitter:image:src" content="https://joseli.to/images/share/twitter.png"><link rel="alternate" href="/rss.xml" title="ngrok: resolvendo os problemas de SSL e compartilhamento do localhost · Joselito" type="application/rss+xml"><link href="https://fonts.googleapis.com/css?family=Space+Mono" rel="stylesheet"><style amp-boilerplate="">body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate="">body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript><style amp-custom="">/*! Bassplate | MIT License | http://github.com/basscss/bassplate, normalize.css v5.0.0 | MIT License | github.com/necolas/normalize.css */@keyframes BackgroundAnimation{0%{background-position:0 99%}50%{background-position:100% 2%}100%{background-position:0 99%}}button{overflow:visible}.list-reset{list-style:none}html{font-family:sans-serif;line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100}body{margin:0}article,footer,header,section{display:block}h1{font-size:2em;margin:.67em 0}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}strong{font-weight:inherit;font-weight:bolder}small{font-size:80%}img{border-style:none}button{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}button{text-transform:none}button{-webkit-appearance:button}button::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring{outline:ButtonText dotted 1px}.list-reset{padding-left:0}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.h2{font-size:2rem}.text-decoration-none{text-decoration:none}.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.m0{margin:0}.mr1{margin-right:.5rem}.mr2{margin-right:1rem}.mb2{margin-bottom:1rem}.mx-auto{margin-left:auto}.mx-auto{margin-right:auto}.pl2,.px2{padding-left:1rem}.px2{padding-right:1rem}.px3{padding-left:1.5rem}.pr3,.px3{padding-right:1.5rem}.flex{display:-webkit-box;display:-ms-flexbox;display:flex}@media (min-width:40.06rem){.sm-col-12{width:100%}}@media (min-width:52.06rem){.md-col-10{width:83.33333%}}@media (min-width:64.06rem){.lg-col-8{width:66.66667%}.lg-hide{display:none}}.items-start{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.items-center{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.justify-start{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.justify-between{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.fixed{position:fixed}.top-0{top:0}.right-0{right:0}.left-0{left:0}@media (max-width:40rem){.xs-hide{display:none}}@media (min-width:40.06rem) and (max-width:52rem){.sm-hide{display:none}}@media (min-width:52.06rem) and (max-width:64rem){.md-hide{display:none}}*{box-sizing:border-box}body{background:#fff;color:#4a4a4a;line-height:1.5rem;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Arial,sans-serif;min-width:315px;overflow-x:hidden;font-smooth:always;-webkit-font-smoothing:antialiased}p{padding:0;margin:0}body{font-family:'Space Mono',Consolas,monospace;line-height:1.618}.post header{margin:0}.header-title{display:block;margin:1.2rem 0;max-height:50px}.posttitle{font-weight:700;margin:0 0 .75rem;font-size:2.5rem}.main{margin:2rem auto}.main section{margin-bottom:2.5rem}a,a:visited{color:#00f;font-weight:700;text-decoration:none}header a,header a:visited{color:#fff;text-transform:uppercase}.clear-list{margin:0;padding:0}.clear-list li{list-style:none}.inline-list li{display:inline-block}.content p{margin-bottom:1.5rem}.meta{display:inline-block}.afo-headerbar{color:#fff;z-index:999;min-height:4rem;background:linear-gradient(270deg,#00f,#8a2be2);background-size:200% 200%;animation:BackgroundAnimation 60s ease infinite}.afo-headerbar+amp-sidebar+*{margin-top:8rem}.afo-navbar-trigger{font-size:2.25rem}.afo-sidebar{width:60vw;margin:0;padding:10px 20px;background:#fff}li.afo-nav-item{margin:1rem 0;text-transform:uppercase}.custom-share-icon{background-color:#00f;border:10px solid transparent;margin:.25rem .5rem 0 0}.poster-footer{margin:1rem 0}.lw{text-transform:lowercase}.keep-reading,footer{margin:1rem 0 0}.article-share-pls{max-width:600px}</style><script async custom-element="amp-install-serviceworker" src="https://cdn.ampproject.org/v0/amp-install-serviceworker-0.1.js"></script><script async custom-element="amp-sidebar" src="https://cdn.ampproject.org/v0/amp-sidebar-0.1.js"></script><script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script><script async custom-element="amp-facebook-comments" src="https://cdn.ampproject.org/v0/amp-facebook-comments-0.1.js"></script><script async custom-element="amp-social-share" src="https://cdn.ampproject.org/v0/amp-social-share-0.1.js"></script></head><body><header class="afo-headerbar fixed flex justify-between items-center top-0 left-0 right-0 pl2 pr3"><div><a href="/" class="header-title"><amp-img src="/images/logo.svg" alt="Welcome" height="50" width="100"></amp-img></a></div><div role="button" on="tap:header-sidebar.toggle" tabindex="0" class="afo-navbar-trigger md-hide lg-hide sm-hide">[≡]</div><ul class="inline-list xs-hide"><li class="afo-headerbar-item mr1">[<a href="https://sininho.joseli.to" class="text-decoration-none">🔔 Notificações</a>]</li><li class="afo-headerbar-item mr1">[<a href="/sobre/" class="text-decoration-none">Sobre</a>]</li><li class="afo-headerbar-item mr1">[<a href="/arquivos/" class="text-decoration-none">Artigos</a>]</li><li class="afo-headerbar-item mr1">[<a href="https://codelabs.joseli.to" class="text-decoration-none">Codelabs</a>]</li><li class="afo-headerbar-item mr1">[<a href="/palestras/" class="text-decoration-none">Palestras</a>]</li></ul></header><amp-sidebar id="header-sidebar" class="afo-sidebar px3" layout="nodisplay"><div class="flex justify-start items-center"><div role="button" on="tap:header-sidebar.toggle" tabindex="0" class="afo-navbar-trigger items-start">✕</div></div><ul class="list-reset m0"><li class="afo-nav-item"><a href="https://sininho.joseli.to" class="text-decoration-none">🔔 Notificações</a></li><li class="afo-nav-item"><a href="/sobre/" class="text-decoration-none">Sobre</a></li><li class="afo-nav-item"><a href="/arquivos/" class="text-decoration-none">Artigos</a></li><li class="afo-nav-item"><a href="https://codelabs.joseli.to" class="text-decoration-none">Codelabs</a></li><li class="afo-nav-item"><a href="/palestras/" class="text-decoration-none">Palestras</a></li></ul></amp-sidebar><div class="clearfix main"><div class="sm-col-12 md-col-10 lg-col-8 px2 mx-auto"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><div class="postdate mr2">📅 <time datetime="2017-04-18T13:00:40.000Z" itemprop="datePublished">2017-04-18</time></div><div>🕑 6 min</div><h1 class="posttitle" itemprop="name headline">ngrok: resolvendo os problemas de SSL e compartilhamento do localhost</h1><div class="meta"><div class="article-tag"><a class="tag-link" href="/tags/codigo/">Código</a> <a class="tag-link" href="/tags/comando/">comando</a> <a class="tag-link" href="/tags/https/">https</a> <a class="tag-link" href="/tags/seguranca/">segurança</a> <a class="tag-link" href="/tags/servico/">serviço</a> <a class="tag-link" href="/tags/ssl/">ssl</a> <a class="tag-link" href="/tags/terminal/">terminal</a></div></div></header><div id="toc-footer"></div><div class="content" itemprop="articleBody"><p>Tem uns programas que a gente procurou a vida toda e não sabia que precisava.</p><p>Quando estamos desenvolvendo pra web, uma das primeiras coisas que temos que fazer é levantar um servidor local na nossa máquina para conseguir executar devidamente nossos projetos. Hoje em dia levantar um servidor é relativamente simples, existem diversas ferramentas pra isso: você pode abrir um server em uma linha de Python ou usando praticamente qualquer CLI de desenvolvimento que exista por aí. Mas como estamos em 2017 e a web evolui a cada dia &#8211; mais rápido do que precisa, por sinal &#8211; ainda existe uma coisinha um pouco complicada de testar em localhost: <strong>o HTTPS</strong>.</p><p>HTTPS é tema recorrente aqui no blog e não vou me extender (de novo) as suas vantagens, vamos falar mais sobre requisitos: <strong>ServiceWorkers</strong>, por exemplo,<strong> </strong>precisam de um SSL pra funcionar devidamente. Eles até funcionam sem um certificado em localhost, mas como os SW estao diretamente ligados ao certificado e ao domínio, quando você precisa testar em vários projetos, isso se torna um problema sério de organização. Quem aí nunca sofreu com um cache absurdo que só faltou você desinstalar o browser pra resolver?</p><p>Algumas APIs também exigem o uso de HTTPS pra receber uma requisição, inclusive em localhost. Só pra citar um exemplo, a <strong>API da Uber</strong> é assim. Dá até pra fazer umas gambiarras com serviços como o <a href="https://crossorigin.me/" target="_blank" rel="external">crossorigin.me</a>, mas você deve concordar comigo que não é das coisas mais sensatas a se fazer, certo? Principalmente em produção.</p><p>Sem falar na hora de demonstrar as coisas pra o famoso cliente. Dar <strong>deploy</strong> pra toda vez que tiver uma pequena modificação, pra um local que no fim das contas ainda não vai ser o servidor final&#8230; dá preguiça só de pensar.</p><p>Por fim, emular um certificado SSL não é das tarefas mais fáceis, nem das mais seguras. Então não vamos inventar ainda mais problemas pra nós mesmos resolvermos.</p><p>O <strong>ngrok</strong> resolve todos esses problemas. Com uma linha de comando, ele abre um túnel do nosso localhost para a web, ofercendo:</p><ul><li><strong>Subdomínio:</strong> ao abrir o túnel, o ngrok vai gerar um subdomínio <em><strong><a href="https://algumacoisa.ngrok.io" target="_blank" rel="external">https://algumacoisa.ngrok.io</a></strong></em>, acessível por qualquer pessoa na internet, inclusive o <em>cliente</em>. Além disso, com um HTTPS você pode fazer requests seguras com tranquilidade, além de ter um SW podendo ser testado devidamente com um escopo de domínio específico.</li><li><strong>Proteção por senha:</strong> se você quiser, é possível configurar uma senha de acesso para cada subdomínio</li><li><strong>Testes em outros dispositivos:</strong> O ngrok facilita muito a vida de testar em outros dispositivos, como celulares, tablets e outros computadores. Basta acessar a URL, sem ter que abrir porta de modem, conectar todo mundo na mesma rede&#8230;</li><li><strong>Testes em VM:</strong> Mesmo em 2017, se você tem Linux ou Mac, o único jeito de testar no Microsoft Edge é tendo uma VM do Windows. Para situações como essas e tantas outras parecidas, você não precisa mais ficar instalando driver desconhecido de rede e dar foward de porta da sua maquina pra VM, é só acessar a URL gerada e sucesso.</li><li><strong>Debug de Requests:</strong> como se não bastasse, o ngrok te oferece um serviço de debug de requisição, do lado do servidor. Você pode ver todas as requisições que foram feitas ao localhost com detalhes, além de poder fazer um &#8220;<strong>replay&#8221;</strong> das mesmas ao toque de um botão. Ou seja: se não funcionava algo e você deu aquela mudada no código, você não precisa emular todo o fluxo de novo pra conseguir fazer um request, basta ir no painel e dar um ~replay</li></ul><p>Aí você me pergunta: quanto é que eu tenho que pagar por um serviço maravilhoso como esse? Nada. O ngrok é completamente open source e a única coisa que você tem que fazer é <a href="https://ngrok.com/" target="_blank" rel="external">baixar o executavel deles no site oficial</a> e rodar.</p><p>Vamos pensar num caso de uso real: digamos que você está trabalhando num aplicativo Ionic. Usando o Ionic-CLI, é possível levantar um servidor local usando o comando <code>ionic serve</code>. Isso vai abrir um servidor local na <strong>porta 8080</strong>, porta padrão utilizada pelo Ionic, deixando seu site acessível em <strong><a href="http://localhost:8080" target="_blank" rel="external">http://localhost:8080</a></strong>. Para usar o ngrok, basta abrir outra aba do seu Terminal, ir onde está o executável que você baixou e rodar o seguinte comando:</p><pre>$ ngrock 8080</pre><p>Pronto. É tão simples que chega a dar certo ódio. Você não tem que dizer pro ngrok qual pasta, qual projeto, o que é, nada: só avise pra ele qual porta você quer que o túnel seja aberto, e ele faz o resto. Enquanto aquela instância do terminal com o ngrok estiver rodando, aquela URL é acessível por qualquer um que souber o endereço.</p><p>O ngrok ainda conta com uns serviços pro como usar ele num VPS, domínios customizados, entre outras coisas, saiba mais visitando o site oficial: <strong><a href="https://ngrok.com/" target="_blank" rel="external">http://ngrok.com</a>.</strong></p><p>Agora com um <em>workflow</em> otimizado você vai poder ter mais tempo para chorar no banheiro enquanto se lembra dos boletos atrasados! Compartilhe a dica se você gostou, com certeza você conhece um pessoal que vai curtir também! 🚀</p></div></article><section id="recadinhos"><span class="h2">Recadinhos <span role="img" aria-label="fire">🔥</span></span><ul class="recadinhos-list clear-list"><li class="recadinhos-item">[<a href="http://pwa.press">PWA Press</a>] Conheça meu novo Newsletter quinzenal sobre Progressive Web Apps!</li><li class="recadinhos-item">[<a href="https://events.withgoogle.com/google-launchpad-build-recife-12-de-agosto/">Google Launchpad Build Recife</a>] Vai ter talk minha no Launchpad Build Recife sobre Progressive Web Apps, inscreva-se grátis!</li><li class="recadinhos-item">[<a href="https://joseli.to">Updates no blog</a>] Dei uma tapa no visual com umas fontes mais bonitinhas, melhor responsividade e o melhor domínio possivel</li><li class="recadinhos-item">[<a href="http://youtube.com/c/joselitojunior">JOSE2</a>] Inscreva-se no meu canal no YouTube</li><li class="recadinhos-item">[<a href="http://fb.com/joselitobot">Josebot</a>] Curta minha fanpage e fale com meu bot no Facebook</li></ul></section><div class="poster-footer"><div class="article-share-pls mb2"><strong>Você gostou desse artigo? Então compartilhe!</strong><p>Esse é o melhor jeito de eu saber qual o assunto vocês estão mais interessados e me motiva a escrever mais!</p><div><amp-social-share type="twitter" class="custom-share-icon" width="50" height="50"></amp-social-share><amp-social-share type="facebook" data-param-app_id="254325784911610" class="custom-share-icon" width="50" height="50"></amp-social-share><amp-social-share type="linkedin" class="custom-share-icon" width="50" height="50"></amp-social-share><amp-social-share type="whatsapp" class="custom-share-icon sm-hide md-hide lg-hide" width="50" height="50"></amp-social-share><amp-social-share type="email" class="custom-share-icon" width="50" height="50"></amp-social-share></div></div><div class="lw">[📝 <a href="https://github.com/joselitojunior1/joseli.to/edit/master/source/_posts/ngrok-resolvendo-os-problemas-de-ssl-e-compartilhamento-do-localhost.md">Edite esse artigo no GitHub</a>] [🔔 <a href="https://sininho.joseli.to">Ative as Notificações</a>]</div></div><amp-facebook-comments width="600" height="280" layout="responsive" data-numposts="5" data-href="https://joseli.to/ngrok-resolvendo-os-problemas-de-ssl-e-compartilhamento-do-localhost/"></amp-facebook-comments><div class="keep-reading lw"><strong>Continue lendo:</strong><ul class="inline-list clear-list"><li>[⇦ <a href="/como-hospedar-progressive-web-apps-no-github-pages/">Como hospedar Progressive Web Apps no GitHub Pages</a>]</li><li>[<a href="/blog-novo-no-ar/">Blog novo no ar!</a> ⇨]</li></ul></div><footer id="footer"><div class="mecenas lw"><strong>Mecenas:</strong> [<a href="https://joselito.pw/_digitalocean">Digital Ocean</a>] [<a href="https://joselito.pw/_umbler">Umbler</a>] [<a href="https://joselito.pw/_booking">Booking</a>] [<a href="https://joselito.pw/_ebanx">Ebanx</a>]</div><small>CC BY-SA &copy; 2017 Joselito Júnior</small></footer></div></div><amp-install-serviceworker src="/sw.js" data-iframe-src="/sw.html" layout="nodisplay"></amp-install-serviceworker><amp-analytics type="clicky"><script type="application/json">{"vars": {"site_id": "101052603"}}</script></amp-analytics></body></html>